# Group Project
## Phase One
---
***Objectives***:

&ensp;1. Implement basic control flow obfuscation using Tigress on a sample C program
&ensp;2. Apply data obfuscation techniques like encoding and encryption
&ensp;3. Evaluate effectiveness of obfuscation by attempting to reverse engineer the obfuscated binary

---
### Technical Background
Binary code obfuscation aims to make reverse engineering and analysis of compiled code more difficult. Tigress is an advanced source-to-source obfuscator for C programs that can apply various transformations:
&ensp;Control flow flattening
&ensp;Function virtualization
&ensp;Instruction substitution
&ensp;Bogus control flow insertion
&ensp;Data encoding/encryption
These techniques obscure the program's logic and data structures while preserving functionality.

---
### Step-by-Step

1. install Tigress
```
 git clone https://github.com/tigress-compiler/tigress.git
 cd tigress
 make
```
2. Create a C program
```
#include <stdio.h>

int main() {
    int secret = 42;
    printf("The secret number is: %d\n", secret);
    return 0;
}
```
3. Apply control flow flattening
```
./tigress --Environment=x86_64:Linux:Gcc:4.6 --Transform=Flatten --Function=main sample.c --out=flattened-sample.c
```
4. Apply Function Virtualization
```
./tigress --Environment=x86_64:Linux:Gcc:4.6 --Transform=Virtualize --Function=main sample.c --out=virtualize-sample.c
```
5. Apply Function Encoding
```
./tigress --Environment=x86_64:Linux:Gcc:4.6 --Transform=EncodeData --Function=main --LocalVariables=secret sample.c --out=encoded-sample.c
```
6. Compile the final obfuscated code
```
gcc encoded-sample.c -o obfucated
```
7. Attempt to reverse engineer using a tool like Ghidra and compare to the original binary


---
#### References

Tigress C obfuscator | https://tigress.wtf/

"Towards Static Analysis of Virtualization-Obfuscated Binaries" by Johannes Kinder | https://www.plai.ifi.lmu.de/publications/wcre12-virtobf.pdf

"Behavioral Analysis of Obfuscated Code" by Federico Scrinzi | https://essay.utwente.nl/67522/1/Scrinzi_MA_SCS.pdf

"Combining learning with fuzzing for software deobfuscation" by Mark Janssen | https://www.codaspy.org/2018/toc.html

